<!DOCTYPE html>
<meta http-equiv="Content=Type" content="text/html; charset=utf-8">
<html>
    <head>
        <title>Nature Of Code</title>
        <link rel="stylesheet" href="page.css">
        <script type="text/javascript" src="../libs/processing-1.4.1.js"></script>
        <script type="text/javascript" src="../libs/my_lib.js"></script>
    </head>

    <body>
        <canvas id="main_canvas" width="400" height="400"></canvas>
        <script type="text/javascript">
            var canvas = document.getElementById('main_canvas');
            var processingInstance = new Processing(canvas);
            window.p = processingInstance;
            p.size(600,600, p.OPENGL);
            p.stroke(0);
            p.fill(175);

            var pos = new p.PVector(200, 200, 200);
            var velocity = new p.PVector(1, 3.3, 1);
            var axis_names = ['x', 'y', 'z'];
            var prop;

            p.draw = function() {
                p.background(0, 0, 5);
                p.lights();
                pos.add(velocity);
                p.translate(pos.x, pos.y, pos.z);
                for (var i = 0; i < axis_names.length; i++) {
                    prop = axis_names[i];
                    if (pos[prop] > 300 || pos[prop] < 100) {
                        velocity[prop] *= -1;
                    }
                }
                p.sphere(20);
            };

            p.loop();

        </script>
    </body>
</html>
